.trade-list-container {
    overflow: visible !important;
}

.trade-list-container .table {
    display: flex !important; /* table 대신 flex로 변경 */
    flex-direction: column !important;
    width: max-content !important;
    min-width: 100% !important;
    font-family: Inter, Pretendard, sans-serif !important;
    font-size: 14px !important;
    border-collapse: separate !important;
    border-spacing: 0 !important;
}

.trade-list-container .thead {
    position: sticky !important;
    top: 0 !important;
    z-index: 10 !important; /* 헤더가 가상 스크롤 아이템 위에 오도록 z-index 조정 */
    display: flex !important; /* table-header-group 대신 flex로 변경 */
    flex-direction: column !important;
}

.trade-list-container .tbody {
    position: relative !important; /* 자식 요소의 absolute positioning 기준 */
    display: block !important; /* 가상 스크롤을 위해 block으로 유지 */
}

.trade-list-container .tr {
    display: flex !important; /* table-row 대신 flex로 변경하여 일관성 유지 */
    box-sizing: border-box !important;
    width: 100% !important;
}

.trade-list-container .tr.odd-row {
    background-color: rgb(41 37 15) !important;
}

.trade-list-container .th {
    position: relative !important; /* 반짝임 효과를 위build-exe.cmd해 필요 */
    display: flex !important; /* table-cell 대신 flex로 변경 */
    justify-content: center !important;
    align-items: center !important;
    box-sizing: border-box !important;
    padding: 10px 8px !important; /* 상하 10px, 좌우 8px */
    overflow: hidden !important; /* 반짝임 효과가 셀 밖으로 나가지 않도록 */
    border-bottom: 2px solid rgb(255 215 0 / 40%) !important;
    font-size: 14px !important;
    font-weight: 700 !important;
    text-align: center !important;
    white-space: nowrap !important; /* 한 줄로 표시 강제 */
    transition: background-color 0.2s ease !important;
    vertical-align: middle !important;
}

.trade-list-container .th:first-child {
    border-top-left-radius: 8px !important;
}

.trade-list-container .th:last-child {
    border-top-right-radius: 8px !important;
}

.trade-list-container .td {
    display: flex !important; /* table-cell 대신 flex로 변경 */
    justify-content: center !important;
    align-items: center !important;
    box-sizing: border-box !important; /* 박스 사이징 추가 */
    padding: 10px 8px !important; /* 상하 10px, 좌우 8px */
    border-bottom: 1px solid rgb(255 215 0 / 40%) !important;
    font-size: 14px !important;
    text-align: center !important;
    white-space: nowrap !important; /* 한 줄로 표시 강제 */
    transition: background-color 0.2s ease !important;
    vertical-align: middle !important;
}

.trade-list-container .fixed-header {
    position: relative !important;
    z-index: 50 !important;
    overflow: hidden !important; /* 반짝임 효과가 셀 밖으로 나가지 않도록 */
    background-color: rgb(89 77 12 / 100%) !important; /* 헤더 배경색 수정 */
    box-shadow: 0 2px 5px rgb(0 0 0 / 20%) !important;
    font-size: 15px !important;
    transition: background-color 0.2s ease !important;
}

/* 추가 헤더 스타일 - 더 높은 우선순위 */
.trade-list-container .table .th.fixed-header {
    font-size: 15px !important;
    transition: background-color 0.2s ease !important;
    animation: none !important;
}

/* 선택된 셀과 같은 거래번호 행 스타일 */
.trade-list-container .tr.selected-trade-row .td {
    background-color: rgb(255 215 0 / 10%) !important;
}

/* 같은 거래 번호 행 구분선 */
.trade-list-container .table .tr.same-trade .td {
    position: relative !important;
    border-bottom: none !important;
}

.trade-list-container .table .tr.same-trade .td::after {
    position: absolute !important;
    right: 0 !important;
    bottom: 0 !important;
    left: 0 !important;
    height: 2px !important;
    border-bottom: 1px dotted rgb(255 215 0 / 30%) !important;
    content: '' !important;
}

/* 파산 행 바로 직전 거래는 bottom border와 ::after 제거 */
.trade-list-container .table .tr.before-bankrupt .td {
    border-bottom: none !important;
}

.trade-list-container .table .tr.before-bankrupt .td::after {
    display: none !important;
}

/* tr 자체에 적용된 금색 경계선도 제거 (우선순위 확보) */
.trade-list-container .table .tr.before-bankrupt {
    border-bottom: none !important;
}

/* 마지막 행 구분선 제거 */
.trade-list-container .table .tr.last-row .td {
    border-bottom: none !important;
}

.trade-list-container .table .tr.last-row .td::after {
    display: none !important;
}

/* 테이블 행 호버 효과 추가 - 같은 거래 번호 행 전체에 적용 */
.trade-list-container .table .tr:hover td,
.trade-list-container .table .tr.hover td {
    background-color: rgb(255 215 0 / 10%) !important; /* 기존 노란색보다 약간 어두운 색 */
    transition: background-color 0.2s ease !important;
}

/* 행 그룹 호버 효과 강화 - 선택된 셀이 없을 때만 */
.trade-list-container:not(.has-selected-cell) .table .tr:hover td {
    background-color: rgb(255 215 0 / 10%) !important;
    transition: background-color 0.2s ease !important;
}

/* 선택된 셀과 같은 거래번호 행에서 선택된 셀이 아닌 다른 셀들 */
.trade-list-container .tr.selected-trade-row .td:not(.selected-cell) {
    background-color: rgb(255 215 0 / 10%) !important;
}


/* 행 그룹 호버 효과 강화 - 선택된 셀이 없을 때만 (더 구체적인 선택자) */
.trade-list-container:not(.has-selected-cell) .tbody .tr:hover .td {
    background-color: rgb(255 215 0 / 10%) !important;
}

/* 열 호버: 같은 열 그룹에 호버 효과 */
.trade-list-container:not(.has-selected-cell) .td.hover-column,
.trade-list-container:not(.has-selected-cell) .td.hover-column-group {
    background-color: rgb(255 215 0 / 10%) !important;
}

/* 행+열 동시 호버: 더 진한 색상 (0.15 투명도) */
.trade-list-container:not(.has-selected-cell) .tbody .tr:hover .td.hover-column,
.trade-list-container:not(.has-selected-cell) .tbody .tr:hover .td.hover-column-group {
    background-color: rgb(255 215 0 / 15%) !important;
}

/* 선택 모드 (선택된 셀 있을 때) */

/* 겹치는 셀만 강조 - 행과 열이 교차하는 부분 (최고 우선순위) */
.trade-list-container.has-selected-cell .td.selected-intersection {
    position: relative !important;
    z-index: 50 !important;
    background-color: rgb(255 215 0 / 25%) !important;
}

/* 추가: inline 스타일보다 우선 적용되도록 좀 더 구체적인 선택자 추가 */
.trade-list-container.has-selected-cell .table .tr .td.selected-intersection {
    background-color: rgb(255 215 0 / 25%) !important;
}

/* 선택된 셀 스타일 */
.trade-list-container.has-selected-cell .td.selected-cell {
    position: relative !important;
    z-index: 30 !important;
    background-color: rgb(255 215 0 / 25%) !important;
}

/* 선택된 열 그룹 스타일 */
.trade-list-container .td.selected-column-group:not(.selected-cell) {
    background-color: rgb(255 215 0 / 10%) !important;
}

/* 행 그룹 및 열 그룹 호버색 고정 (겹치지 않는 부분) */
.trade-list-container.has-selected-cell .td.selected-row:not(.selected-intersection),
.trade-list-container.has-selected-cell .td.selected-column-group:not(.selected-intersection) {
    background-color: rgb(255 215 0 / 10%) !important;
}

/* 선택 모드에서 호버 완전 차단 */
.trade-list-container.has-selected-cell .tbody .tr:hover .td:not(.selected-cell, .selected-intersection, .selected-row, .selected-column-group) {
    background-color: transparent !important;
}

.trade-list-container .table .tr.same-trade.last-group-row {
    border-bottom: 2px solid rgb(155 132 7) !important;
}

/* 호버 교차(행+열)용 클래스: 더 진한 색상 적용 */
.trade-list-container .table .tr .td.hover-intersection {
    background-color: rgb(255 215 0 / 15%) !important;
}

/* 가상 스크롤 행 스타일 */
.trade-list-container .tbody .tr {
    position: absolute !important; /* 가상 스크롤을 위해 추가 */
    right: 0 !important;
    left: 0 !important;
    display: flex !important; /* 가로 배치를 위한 flex */
    width: 100% !important;
}

.trade-list-container .cell-width {
    display: flex !important;
    flex-grow: 0 !important;
    flex-shrink: 0 !important;
    justify-content: center !important;
    align-items: center !important;
    box-sizing: border-box !important;
    padding: 3px 8px !important; /* 상하 3px 유지, 좌우만 8px로 변경 */
    text-align: center !important;
    white-space: nowrap !important; /* 한 줄로 표시 강제 */
    vertical-align: middle !important;
}

/* 헤더 셀 반짝이는 효과 추가 */
.trade-list-container .th:hover::after {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    z-index: 2 !important; /* 높은 z-index로 셀 내용 위에 표시 */
    width: 100% !important;
    height: 100% !important;
    background: linear-gradient(to right, transparent, rgb(255 215 0 / 20%), transparent) !important;
    animation: sweep 1.5s ease infinite !important;
    pointer-events: none !important;
    content: '' !important;
}

@keyframes sweep {
    0% {
        transform: translateX(-100%);
    }

    100% {
        transform: translateX(100%);
    }
}

/* 경계선 스타일 최적화 - GPU 가속 제거 */
.trade-list-container .thick-border {
    border-right: 2px solid rgb(255 215 0 / 40%) !important;
}

/* 심볼 아이콘 전용 스타일 - SymbolPerformance 스타일과 동일하게 원형, object-fit:cover */
.trade-list-container .trade-symbol-icon {
    display: block !important;
    flex: 0 0 auto !important;
    width: 17px !important;
    height: 17px !important;
    margin-right: 2px !important;
    border-radius: 50% !important; /* 항상 원형으로 표시 */
    transform: none !important;
    filter: none !important;
    object-fit: cover !important; /* 이미지를 자르더라도 비율 유지 및 꽉 채움 */
    image-rendering: auto !important;
}

.trade-list-container .thin-border {
    border-right: 1px dashed rgb(255 215 0 / 40%) !important;
}

/* 행 스타일 최적화 - 과도한 GPU 가속 제거 */
.trade-list-container .tr.optimized {
    transform: none !important;

    /* GPU 가속 속성 제거하여 메모리 사용량 감소 */
    backface-visibility: visible !important;
    will-change: auto !important;
}

/* 선택된 셀 스타일 - 더 구체적인 선택자로 우선순위 확보 */
.trade-list-container .table .tr .td.selected-cell {
    position: relative !important;
    z-index: 30 !important; /* 점선보다 높은 z-index */
    background-color: rgb(255 215 0 / 25%) !important; /* 강조색 */
}

/* 선택된 셀과 같은 행의 모든 셀 스타일 (선택 모드가 아닐 때 진한 색 적용) */
.trade-list-container:not(.has-selected-cell) .table .tr .td.selected-row {
    position: relative !important;
    z-index: 25 !important;
    background-color: rgb(255 215 0 / 25%) !important; /* 강조색 */
}

/* 선택된 열 스타일 */
.trade-list-container .td.selected-column:not(.selected-cell) {
    background-color: rgb(255 215 0 / 10%) !important;
}
